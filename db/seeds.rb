# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: "Star Wars" }, { name: "Lord of the Rings" }])
#   Character.create(name: "Luke", movie: movies.first)

User.destroy_all

user1 = User.create(first_name: "Josh", last_name: "Kohane", email: "joshkohane@gmail.com", password: "password")
user2 = User.create(first_name: "Alison", last_name: "Greek", email: "thegreekalison", password: "password1")
user3 = User.create(first_name: "Melinda", last_name: "Clark", email: "nottherealone", password: "password2")
user4 = User.create(first_name: "Nathan", last_name: "Joan", email: "areyouevenjewish", password: "password3")
user5 = User.create(first_name: "Martha Rose", last_name: "Shulman", email: "martharose", password: "password4")
user6 = User.create(first_name: "Julia", last_name: "Moskin", email: "juliamoskin", password: "password5")
user7 = User.create(first_name: "Sam", last_name: "Sifton", email: "samsifton", password: "password6")
user8 = User.create(first_name: "Amelia", last_name: "Nierenberg", email: "amelianierenberg", password: "password7")

Recipe.destroy_all
Ingredient.destroy_all
IngredientList.destroy_all

recipe1 = Recipe.create!(title: "Eggplant and Tomato Pie", category: 'suggestions', yield: "1 pie, serving 6 generously", time: "2 hours", description: "Tomatoes have another week or so to go in most farmers’ markets. This robust summer pie, topped with a layer of tomato slices flecked with thyme, is a nice party piece. It also packs well once cooled, so take leftovers to work for lunch.", directions: ["Line a lightly oiled 9- or 10-inch tart pan with the dough. Using a fork, pierce at regular intervals to allow for even baking. Refrigerate or freeze until ready to prebake and fill.", "Heat the oven to 450 degrees Fahrenheit. Slice the eggplant about 1/3 inch thick and toss with salt to taste and 1 tablespoon olive oil. Line 1 to 2 baking sheets (as needed) with foil and brush the foil with olive oil. Lay the eggplant slices on the foil in 1 layer. Roast in the hot oven for 15 to 20 minutes, until the slices are soft when pierced with a knife and browned in spots. Remove from the oven and carefully fold the foil up over the eggplant slices (be careful not to burn yourself!). Crimp the edges of the foil and allow the eggplant to steam for another 15 to 20 minutes. It should now be completely cooked. Turn the oven down to 350 degrees.", "Beat together the eggs in a medium bowl. Set the tart pan on a baking sheet to allow for easy handling. Using a pastry brush lightly brush the bottom of the crust with the beaten egg and place in the oven for 10 minutes. Remove from the oven and set aside.", "Whisk the milk into the eggs. Add salt (I usually use about 1/2 teaspoon) and pepper. Spread 1/4 cup tomato sauce over the bottom of the crust. Top with a layer of eggplant slices. Season with salt and pepper. Spoon one third of the remaining sauce over the eggplant and sprinkle with thyme, Parmesan, and half of the Gruyère. Repeat the layers one or two more times, depending on the size of your eggplant slices, ending with the Gruyère. Pour on the egg and milk mixture. It should seep down into the layers; if it looks like it’s not moving and going to overflow the crust, use a fork to create some holes so it does seep down. Arrange the sliced tomatoes on top and sprinkle any remaining thyme over the tomatoes. Drizzle on 1 tablespoon of olive oil. Place in the oven and bake for 40 to 45 minutes, until set and bubbling and browned on the top and edges. Remove from the heat and allow to sit for at least 10 minutes before serving. Serve hot, warm, or room temperature."], tip: "Advance preparation: You can prepare the eggplant a day ahead. Marinara sauce keeps for a few days in the refrigerator and freezes well.", author_id: user5.id)
recipe2 = Recipe.create!(title: "Tomato Pie With Pimento Cheese Topping", category: 'splash suggestions', yield: "8 servings", time: "1 1/2 hours, plus 1 hour chilling", description: "omato pie is just the kind of supper a Southern cook might serve in the summer: savory and rich, but vibrant with super-fresh vegetables and herbs. Virginia Willis, a Georgia native and food writer, had the inspired idea to add a topping of pimento cheese, another Southern classic. There are multiple steps here because of the scratch-made crust, but everything can be baked in the cooler parts of the day, and the pie can be served warm or at room temperature.", directions: ["Make the dough: In a food processor fitted with the metal blade, combine the flour and salt. Add the butter. Process until the mixture resembles coarse cornmeal, 8 to 10 seconds. Add the egg yolks and pulse until just combined. Pulse in 5 to 6 tablespoons ice water, 1 tablespoon at a time, just until the mixture holds together as a soft dough, not crumbly or sticky. Use your hands to shape into a 1-inch-thick disk, wrap in plastic and refrigerate until firm, about 30 minutes (or longer, if desired).", "Lightly flour a clean work surface and rolling pin. Unwrap and roll out the dough, starting in the center and rolling up to, but not over, the top edge of the dough. Return to the center, and roll down to, but not over, the bottom edge. Give the dough a quarter turn, and continue rolling, repeating the turns until you have a circle about 1/8-inch thick.", "Transfer to a 9-inch pie pan, being careful not to stretch or pull the dough. Cut away any excess dough, leaving enough to make a thick edge around the rim. Tuck the edges under, press together and, if desired, crimp the edge. Chill until firm, at least 30 minutes.", "Bake the crust: Heat oven to 425 degrees. Prick the bottom of the dough lightly all over with a fork. Line the dough with parchment paper and fill with pie weights, dried beans or uncooked rice, enough to come halfway up the sides of the pan. Bake for 20 minutes. Remove from the oven and remove the paper and weights. Set crust aside to cool to room temperature.", "Meanwhile, line a rimmed baking sheet with paper towels. Using a serrated knife, core the tomatoes and slice them 1/4 inch thick. Place a layer of tomato slices on the baking sheet and sprinkle lightly with kosher salt. Top with more paper towels and repeat with remaining tomatoes. Set aside for at least 30 minutes.", "If using bacon, place in a medium skillet over medium heat, and cook until just crisp, about 5 minutes. Drain on paper towels. Pour off all but about 1 tablespoon of the rendered fat from the pan (discard the fat or reserve it for another use). Or, skip the bacon and start the next step with 1 tablespoon olive oil in the pan.", "Heat the bacon fat or olive oil over medium heat, then add onions and a pinch of salt. Cook, stirring often, until lightly caramelized and golden brown, about 20 minutes. (Don’t rush this process: the onions should not be white or crunchy.)", "Assemble the pie: Heat oven to 350 degrees. Pat half the tomatoes dry with paper towels and arrange closely in the pie crust. Add half the onions, bacon and herbs. Season with salt and pepper. Repeat with remaining tomatoes, onions, bacon and herbs.", "In a bowl, combine the cheese, mayonnaise and pimento very well. Gently spread the mixture on top of the pie. Bake for 30 minutes, or until lightly browned. Transfer to a wire rack to cool at least 30 minutes. Serve warm or at room temperature, slicing with a serrated knife."], tip: "", author_id: user6.id)
recipe3 = Recipe.create!(title: "Pizza Margherita", category: 'love', yield: "2 servings", time: "15 minutes, plus 1 hour to heat oven", description: "Here is the archetype of a thin-crust pizza pie, a pizza margherita adorned simply in the colors of the Italian flag: green from basil, white from mozzarella, red from tomato sauce. This pizza is adapted from the recipe used by the staff at Roberta’s restaurant in Brooklyn, who make their tomato sauce simply by whizzing together canned tomatoes, a drizzle of olive oil and a pinch of salt. The ingredients offer in their proportions what appears to be a kind of austerity — not even 3 ounces of cheese! But the result is home-cooked pizza to beat the band, exactly the sort of recipe to start a career in home pizza-making, and to return to again and again.", directions: ["Place a pizza stone or tiles on the middle rack of your oven and turn heat to its highest setting. Let it heat for at least an hour.", "Put the sauce in the center of the stretched dough and use the back of a spoon to spread it evenly across the surface, stopping approximately 1/2 inch from the edges.", "Drizzle a little olive oil over the pie. Break the cheese into large pieces and place these gently on the sauce. Scatter basil leaves over the top.", "Using a pizza peel, pick up the pie and slide it onto the heated stone or tiles in the oven. Bake until the crust is golden brown and the cheese is bubbling, approximately 4 to 8 minutes."], tip: "In a food processor, whiz together whole, drained canned tomatoes, a splash of olive oil and a sprinkle of salt. Keep leftover sauce refrigerated.", author_id: user7.id)
recipe4 = Recipe.create!(title: "Pierogi Ruskie (Potato and Cheese Pierogi)", category: 'love', yield: "24 to 30 pierogi", time: "1 1/2 hours", description: "Pierogi are always on the menu at milk bars, historic Polish restaurants that were once socialist canteens. This recipe for pierogi ruskie, stuffed with potatoes and cheese, comes from the Bar Prasowy, which is one of the most famous milk bars in Warsaw, and a place where fist-size dumplings can be filled with mushrooms and meat, spinach and cheese, or any number of combinations. These pierogi can be made from kitchen staples, though you’d be doing yourself a favor if you sought out the salty quark cheese that would be used in Poland. Be patient with your first few pierogi: Sealing the filling inside the dumpling takes some practice, but the practice itself is enjoyable. You can snack on the pierogi straight after boiling, or pan-fry them with butter until crisp and serve with barszcz, a light Polish borscht.", directions: ["Prepare the dough: Add the flour and salt to a large bowl; whisk to combine. In a small saucepan, heat 1/2 cup water and the butter over medium-high until butter is melted, about 3 minutes. Pour the buttery liquid into the flour gradually, stirring it in as you add it. (The dough will be quite crumbly and flaky at this point, like a biscuit dough.) Stir in the egg until combined then move the dough to a lightly floured surface and knead until smooth, 5 to 7 minutes. Cover the dough with a dampened towel or plastic wrap and let rest at room temperature for 30 minutes.", "Prepare the filling: Peel the potatoes and cut into 1-inch cubes. Add them to a large pot, sprinkle with 1 tablespoon salt and cover with cold water by about 2 inches. Bring to a boil over high and continue to cook at a simmer until potatoes are tender, about 25 minutes.", "While the potatoes cook, prepare the onions: In a large skillet, melt the butter over medium-high. Add the onions, season generously with salt and pepper, and cook, stirring occasionally, until golden-brown and softened, about 12 minutes. Set aside about 1 cup of onions for garnish and add the rest to a medium bowl.", "Transfer the cooked potatoes to a colander to drain, then transfer to the medium bowl with the onions. Add the cheese, stir to combine, season generously with salt and pepper, then let cool.", "Bring a large pot of heavily salted water to a boil over high.", "Prepare the wrappers: Cut the dough into two even pieces. (You’ll want to leave one piece under the towel to stay moist while you work with the other piece.) You’ll also want a small bowl of flour, a small bowl of water and a towel handy for keeping your hands clean. Dust some flour onto a baking sheet (for holding the pierogi) and your work surface, then roll out one portion of dough until 1/8-inch thick. Using a 3-inch cookie cutter or inverted glass, punch 12 to 15 disks of dough. (Save and refrigerate the scraps to boil as a rustic pasta, in soup or another use.)", "Assemble the pierogi: Working with one disk at time, spoon a scant tablespoon of filling onto the middle of it. Fold the dough in half to enclose the filling, bringing the edges together to form a crescent shape. Pinch the two sides together at the top, then work your way down on both sides, pinching the dough over the filling and pushing in the filling as needed, making sure the potato mixture does not break the seal. If needed, you can dip your fingertip into water and moisten the dough in spots as needed to help the two sides adhere together.", "To form a rustic pattern on the curved seal, pinch the rounded rim underneath using your pointer finger and middle finger and press an indentation on top with your thumb, working your way along the rounded rim. Transfer to the prepared baking sheet. (If you’ve gotten some filling on your fingers, dip your fingertips into the bowl of water then dry them off on the towel.)", "Repeat with remaining disks, then repeat the entire process with the remaining portion of dough. You’ll want to work fairly quickly, as the pierogi can be harder to seal if they start to dry out. (If cooking the pierogi at a later point, transfer them on the baking sheet to the freezer until frozen solid, then transfer the pierogi to a resealable bag and freeze.)", "To cook the pierogi, add a single layer of pierogi to the pot of boiling water. Let them cook until they rise to the surface, about 2 minutes, then cook another 2 to 3 minutes until puffy. (With frozen dumplings, you will need to increase the cooking time by a couple of minutes.) Use a slotted spoon to transfer cooked dumplings to a colander to drain, then boil remaining dumplings.", "If you want to pan-fry your pierogi, working in batches, melt 1 to 2 tablespoons of butter in a large skillet over medium-high until crackling. Add a few boiled pierogi in a single layer to avoid overcrowding, and cook until crisp and golden, 1 to 2 minutes per side. Repeat with remaining pierogi, adding butter as needed.", "Serve hot. Top with any browned butter from the pan, warmed reserved onions, sour cream and herbs."], tip: "", author_id: user8.id)
# recipe5 = Recipe.create!(title: "", yield: "", time: "", description: "", directions: [], tip: "", author_id: )
# recipe6 = Recipe.create!(title: "", yield: "", time: "", description: "", directions: [], tip: "", author_id: )
# recipe7 = Recipe.create!(title: "", yield: "", time: "", description: "", directions: [], tip: "", author_id: )
# recipe8 = Recipe.create!(title: "", yield: "", time: "", description: "", directions: [], tip: "", author_id: )
# recipe9 = Recipe.create!(title: "", yield: "", time: "", description: "", directions: [], tip: "", author_id: )

Recipe.all.sort.each_with_index do |recipe, idx|
    file = open("https://njtimescooking-dev.s3.amazonaws.com/recipe-#{idx}.jpg")
    recipe.photo.attach(io: file, filename: "recipe-#{idx}.jpg")
    recipe.save!
end

list1 = IngredientList.create!(recipe_id: recipe1.id, header: "Ingredients", order: 1)
list2 = IngredientList.create!(recipe_id: recipe2.id, header: "FOR THE CRUST:", order: 1)
list3 = IngredientList.create!(recipe_id: recipe2.id, header: "FOR THE FILLING:", order: 2)
list4 = IngredientList.create!(recipe_id: recipe3.id, header: "Ingredients", order: 1)
list5 = IngredientList.create!(recipe_id: recipe4.id, header: "FOR THE DOUGH:", order: 1)
list6 = IngredientList.create!(recipe_id: recipe4.id, header: "FOR THE FILLING:", order: 2)
list7 = IngredientList.create!(recipe_id: recipe4.id, header: "FOR SERVING:", order: 3)
# list8 = IngredientList.create!(recipe_id: , header: "")
# list9 = IngredientList.create!(recipe_id: , header: "")
# list10 = IngredientList.create!(recipe_id: , header: "")

ing1 = Ingredient.create!(ingredient_list_id: list1.id, order: 1, amount: "1", unit: "", item: "Whole Wheat Yeasted Olive Oil Crust")
ing2 = Ingredient.create!(ingredient_list_id: list1.id, order: 2, amount: "1 1/2", unit: "pounds", item: "pounds eggplant (2 medium)")
ing3 = Ingredient.create!(ingredient_list_id: list1.id, order: 3, amount: "", unit: "", item: "Salt and freshly ground pepper")
ing4 = Ingredient.create!(ingredient_list_id: list1.id, order: 4, amount: "2", unit: "", item: "eggs")
ing5 = Ingredient.create!(ingredient_list_id: list1.id, order: 5, amount: "1/3", unit: "cup", item: "milk")
ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: 6, amount: "1 1/2", unit: "cups", item: "marinara sauce")
ing7 = Ingredient.create!(ingredient_list_id: list1.id, order: 7, amount: "2", unit: "teaspoons", item: "fresh thyme leaves")
ing8 = Ingredient.create!(ingredient_list_id: list1.id, order: 8, amount: "2", unit: "ounces", item: "Gruyère, grated (1/2 cup)")
ing9 = Ingredient.create!(ingredient_list_id: list1.id, order: 9, amount: "1", unit: "ounce", item: "Parmesan, grated (1/4 cup)")
ing10 = Ingredient.create!(ingredient_list_id: list1.id, order: 10, amount: "2", unit: "", item: "medium-size fresh tomatoes, in season, sliced")
ing11 = Ingredient.create!(ingredient_list_id: list1.id, order: 11, amount: "2", unit: "tablespoons", item: "tablespoons extra virgin olive oil")
ing12 = Ingredient.create!(ingredient_list_id: list2.id, order: 1, amount: "2", unit: "cups/250 grams", item: "all-purpose flour, more for flouring the work surface")
ing13 = Ingredient.create!(ingredient_list_id: list2.id, order: 2, amount: "1", unit: "teaspoon", item: "fine sea salt")
ing14 = Ingredient.create!(ingredient_list_id: list2.id, order: 3, amount: "4", unit: "ounces/113 grams", item: "chilled unsalted butter (1 stick), cut into 1/2-inch cubes")
ing15 = Ingredient.create!(ingredient_list_id: list2.id, order: 4, amount: "2", unit: "", item: "large egg yolks")
ing16 = Ingredient.create!(ingredient_list_id: list2.id, order: 5, amount: "", unit: "", item: "Ice water")
ing17 = Ingredient.create!(ingredient_list_id: list3.id, order: 1, amount: "1 1/2", unit: "pounds", item: "ripe tomatoes (about 3 medium)")
ing18 = Ingredient.create!(ingredient_list_id: list3.id, order: 2, amount: "", unit: "", item: "Kosher salt")
ing19 = Ingredient.create!(ingredient_list_id: list3.id, order: 3, amount: "2", unit: "", item: "thick slices bacon, cut into lardons (large matchsticks), or 1 tablespoon olive oil")
ing20 = Ingredient.create!(ingredient_list_id: list3.id, order: 4, amount: "1", unit: "", item: "sweet onion, such as Vidalia or red onion, very thinly sliced")
ing21 = Ingredient.create!(ingredient_list_id: list3.id, order: 5, amount: "1/2", unit: "cup", item: "mixed chopped fresh herbs, such as chives, parsley and basil")
ing22 = Ingredient.create!(ingredient_list_id: list3.id, order: 6, amount: "", unit: "", item: "Ground black pepper")
ing23 = Ingredient.create!(ingredient_list_id: list3.id, order: 7, amount: "1 1/4", unit: "cups", item: "grated sharp cheddar cheese (about 4 ounces)")
ing24 = Ingredient.create!(ingredient_list_id: list3.id, order: 8, amount: "1/3", unit: "cup", item: "mayonnaise")
ing25 = Ingredient.create!(ingredient_list_id: list3.id, order: 9, amount: "1", unit: "tablespoon", item: "diced pimentos (roasted, preserved sweet red peppers)")
ing26 = Ingredient.create!(ingredient_list_id: list4.id, order: 1, amount: "1", unit: "", item: "12-inch round of pizza dough, stretched")
ing27 = Ingredient.create!(ingredient_list_id: list4.id, order: 2, amount: "3", unit: "tablespoons", item: "tomato sauce (see note)")
ing28 = Ingredient.create!(ingredient_list_id: list4.id, order: 3, amount: "", unit: "", item: "Extra-virgin olive oil")
ing29 = Ingredient.create!(ingredient_list_id: list4.id, order: 4, amount: "2 3/4", unit: "ounces", item: "fresh mozzarella")
ing30 = Ingredient.create!(ingredient_list_id: list4.id, order: 5, amount: "4 to 5", unit: "", item: "basil leaves, roughly torn")
ing31 = Ingredient.create!(ingredient_list_id: list5.id, order: 1, amount: "2", unit: "cups/255 grams", item: "all-purpose flour (preferably unbleached), plus more as needed")
ing32 = Ingredient.create!(ingredient_list_id: list5.id, order: 2, amount: "1", unit: "teaspoon", item: "kosher salt")
ing33 = Ingredient.create!(ingredient_list_id: list5.id, order: 3, amount: "3", unit: "tablespoon", item: "unsalted butter")
ing34 = Ingredient.create!(ingredient_list_id: list5.id, order: 4, amount: "1", unit: "", item: "large egg, beaten")
ing35 = Ingredient.create!(ingredient_list_id: list6.id, order: 1, amount: "1/2", unit: "pound", item: "waxy or all-purpose potatoes")
ing36 = Ingredient.create!(ingredient_list_id: list6.id, order: 2, amount: "", unit: "", item: "Salt and pepper")
ing37 = Ingredient.create!(ingredient_list_id: list6.id, order: 3, amount: "3", unit: "tablespoons", item: "unsalted butter")
ing38 = Ingredient.create!(ingredient_list_id: list6.id, order: 4, amount: "3", unit: "", item: "medium yellow onions (about 8 ounces each), finely chopped")
ing39 = Ingredient.create!(ingredient_list_id: list6.id, order: 5, amount: "1/2", unit: "cup", item: "quark cheese, cottage cheese or sour cream (about 4 ounces)")
ing40 = Ingredient.create!(ingredient_list_id: list7.id, order: 1, amount: "", unit: "", item: "Butter, for pan-frying (optional)")
ing41 = Ingredient.create!(ingredient_list_id: list7.id, order: 2, amount: "", unit: "", item: "Sour cream, for garnish")
ing42 = Ingredient.create!(ingredient_list_id: list7.id, order: 3, amount: "", unit: "", item: "Chopped fresh parsley or dill, for garnish")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
# ing6 = Ingredient.create!(ingredient_list_id: list1.id, order: , amount: "", unit: "", item: "")
